<div class="row-fluid">
	<div class="span12 buttons">
		<a href="#/rule/new" class="btn" ng-show="session.user.isChief() || session.user.isAdmin()"><i class="icon-plus" ></i>新增规则</a>
		<button class="btn" type="button"
				ng-click="rule.save()"
				ng-show="session.user.isChief() || session.user.isAdmin()"
				ng-disabled="!ruleForm.$valid">
			<i class="icon-save"></i>保存修改
		</button>
		<button class="btn" type="button"
				ng-class="{'btn-danger': user.selectedItem != null}"
				ng-show="session.user.isChief() || session.user.isAdmin()"
				ng-click="rule.confirmDelete()" ng-disabled="rule.selectedItem == null">
			<i class="icon-remove"></i>删除规则
		</button>
    </div>
</div>
<div class="row-fluid">
    <div class="block block-without-border span12">
	<!-- 过滤规则-->
	<form name="ruleForm">
		<table class="table table-hover rules">
		<thead>
			<tr>
			<th width="10%">设备类型</th>
			<th width="10%">指标编码</th>
			<th width="15%">指标名称</th>
			<th>范围设定</th>
			<th width="35%">说明</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="item in rule.data" ng-click="rule.selectedItem = item" ng-class="{'active': rule.selectedItem == item}">
				<td>{{item.type}}</td>
				<td>{{item.code}}</td>
				<td>{{item.name}}</td>
				<td>
				<button class="btn btn-small" type="button" ng-click="item.min = -1">无下限</button>
				<input type="text" name="min{{item.type}}" value="{{item.min}}" required></input>
				<span>-</span>
				<input type="text" name="max{{item.type}}" value="{{item.max}}" required></input>
				<button class="btn btn-small" type="button" ng-click="item.max = 9999">无上限</button>
				</td>
				<td>{{item.desc}}</td>
			</tr>
		</tbody>
		</table>
	</form>
    </div>
</div>